---
import BaseLayout from '../layouts/BaseLayout.astro';
import ArticlesCarousel from '../components/ArticlesCarousel.astro';
import Icon from '../components/Icon.astro';
import { getCollection } from 'astro:content';

// Récupérer TOUS les articles pour le carrousel
const blogEntries = await getCollection('blog');
const sortedArticles = blogEntries
  .filter(entry => !entry.data.draft)
  .sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime());
  // Pas de slice() = tous les articles
---

<BaseLayout
    title="Guiziweb - Entreprise IA & Automatisations | Solutions Intelligentes sur Mesure"
    description="Guiziweb, entreprise spécialisée en solutions IA pour les PME. Automatisations intelligentes, intégrations ERP, sites web IA. Expertise technique et conseil stratégique."
>

<!-- Enhanced Mobile-First Hero Section -->
<section id="hero" class="min-h-screen flex items-center justify-center pt-16 sm:pt-20 relative overflow-hidden" style="background-color: #101827;">
    <div class="max-w-7xl mx-auto px-4 lg:px-8 py-8 lg:py-20 relative z-10">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8 items-center">
            <!-- Main Content - Mobile Optimized -->
            <div class="text-center lg:col-span-7 lg:text-left lg:max-w-3xl">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-100 leading-tight mb-6">
                    <span class="bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent block sm:inline">Automatisations IA</span>
                    sur mesure
                </h1>

                <p class="text-base sm:text-lg lg:text-xl text-gray-300 leading-relaxed mb-4 max-w-2xl mx-auto lg:mx-0">
                    Guiziweb intègre l'IA dans vos outils métier : serveurs MCP sur mesure, workflows N8N, intégrations ERP personnalisées, sites WordPress/Shopify intelligents.
                    Solutions techniques concrètes pour optimiser votre activité.
                </p>
                <p class="text-sm sm:text-base text-gray-400 mb-8 max-w-2xl mx-auto lg:mx-0">
                    Échangeons sur vos besoins lors d'un audit gratuit
                </p>

                <!-- Mobile-First CTA Buttons -->
                <div class="space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4 lg:justify-start mb-10 lg:mb-12">
                    <button id="highlight-calendly" class="w-full sm:w-auto inline-flex justify-center items-center px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-base font-semibold rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-600 hover:shadow-xl hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 focus:outline-none touch-manipulation">
                        <Icon name="fa-calendar-alt" class="mr-2" />Réserver maintenant
                    </button>
                    <a href="#services" class="w-full sm:w-auto inline-flex justify-center items-center px-6 py-4 border-2 border-blue-500 text-blue-400 text-base font-semibold rounded-lg hover:bg-blue-500/10 hover:shadow-lg hover:shadow-blue-500/20 hover:border-blue-400 focus:outline-none transition-all duration-300 touch-manipulation">
                        <Icon name="fa-play" class="mr-2" />Découvrir nos services
                    </a>
                </div>

                <!-- Bénéfices impact -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8">
                    <div class="flex items-center justify-center lg:justify-start space-x-4">
                        <Icon name="fa-cogs" class="text-blue-400" size={32} />
                        <div class="text-center lg:text-left">
                            <div class="text-sm font-semibold text-gray-100">Workflows optimisés</div>
                            <div class="text-xs text-gray-400">Automatisation intelligente</div>
                        </div>
                    </div>

                    <div class="flex items-center justify-center lg:justify-start space-x-4">
                        <Icon name="fa-tachometer-alt" class="text-blue-400" size={32} />
                        <div class="text-center lg:text-left">
                            <div class="text-sm font-semibold text-gray-100">Performance boostée</div>
                            <div class="text-xs text-gray-400">Plus de temps pour l'essentiel</div>
                        </div>
                    </div>

                    <div class="flex items-center justify-center lg:justify-start space-x-4">
                        <Icon name="fa-puzzle-piece" class="text-blue-400" size={32} />
                        <div class="text-center lg:text-left">
                            <div class="text-sm font-semibold text-gray-100">IA sur-mesure</div>
                            <div class="text-xs text-gray-400">Intégrée à vos outils</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendly Integration Direct dans Hero -->
            <div class="mt-10 lg:mt-0 lg:col-span-5">
                <!-- Calendly inline widget begin -->
                <div id="calendly-widget" class="calendly-inline-widget transition-all duration-500" data-url="https://calendly.com/guiziweb/30min?background_color=101827&text_color=f9fafb&primary_color=2563eb&hide_event_type_details=1&hide_gdpr_banner=1" style="width:100%;min-width:320px;height:600px;border-radius:12px;overflow:hidden;box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);"></div>
                <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
                <!-- Calendly inline widget end -->
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Mobile-First Services Section -->
<section id="services" class="py-16 sm:py-20 bg-gray-950 relative overflow-hidden">
    <!-- Background decoration -->
    <div class="absolute inset-0">
        <div class="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-600/5 to-transparent rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-purple-600/5 to-transparent rounded-full blur-3xl"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 lg:px-8 relative z-10">
        <!-- Section Header - Mobile Optimized -->
        <div class="text-center mb-12 sm:mb-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-100 mb-6">
                Comment nous intégrons l'IA dans votre activité
            </h2>
            <p class="text-base sm:text-lg text-gray-300 max-w-2xl mx-auto leading-relaxed px-4 sm:px-0">
                Automatisations workflows, intégrations ERP, sites intelligents sur mesure
            </p>
        </div>

        <!-- Services Grid - 3 Services Principaux -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-10">
            <!-- Service 1 - Intégrations IA Entreprise -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-8 shadow-xl hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300 border border-gray-700 group relative overflow-hidden hover:border-blue-500/50">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>

                <div class="flex items-center mb-6">
                    <div class="w-16 h-16 bg-blue-500/10 rounded-xl flex items-center justify-center mr-4 group-hover:bg-blue-500/20 transition-colors duration-300 border border-blue-500/20">
                        <Icon name="fa-plug" class="text-blue-400 group-hover:scale-110 transition-transform duration-300" size={24} />
                    </div>
                    <h3 class="text-2xl font-bold text-gray-100">Intégrations IA Entreprise</h3>
                </div>

                <p class="text-gray-300 mb-6 leading-relaxed">
                    Connectez l'IA à vos outils métier : Redmine, Salesforce, ERP.
                    Audit complet inclus pour identifier les opportunités d'automatisation.
                </p>

                <ul class="space-y-3 text-sm text-gray-400">
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Serveurs MCP personnalisés</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Intégration Redmine/ERP/CRM</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Audit et recommandations IA</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Automatisation de saisie</span>
                    </li>
                </ul>
            </div>

            <!-- Service 2 - Automatisations Intelligentes -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-8 shadow-xl hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300 border border-gray-700 group relative overflow-hidden hover:border-blue-500/50">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>

                <div class="flex items-center mb-6">
                    <div class="w-16 h-16 bg-blue-500/10 rounded-xl flex items-center justify-center mr-4 group-hover:bg-blue-500/20 transition-colors duration-300 border border-blue-500/20">
                        <Icon name="fa-cogs" class="text-blue-400 group-hover:scale-110 transition-transform duration-300" size={24} />
                    </div>
                    <h3 class="text-2xl font-bold text-gray-100">Automatisations Intelligentes</h3>
                </div>

                <p class="text-gray-300 mb-6 leading-relaxed">
                    Workflows N8N sur mesure pour automatiser vos processus : génération de contenu,
                    publications LinkedIn, synchronisation données.
                </p>

                <ul class="space-y-3 text-sm text-gray-400">
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Workflows N8N personnalisés</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Automatisation LinkedIn</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Génération de contenu IA</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Intégrations API sur mesure</span>
                    </li>
                </ul>
            </div>

            <!-- Service 3 - Sites Web IA -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-8 shadow-xl hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300 border border-gray-700 group relative overflow-hidden hover:border-blue-500/50">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>

                <div class="flex items-center mb-6">
                    <div class="w-16 h-16 bg-blue-500/10 rounded-xl flex items-center justify-center mr-4 group-hover:bg-blue-500/20 transition-colors duration-300 border border-blue-500/20">
                        <Icon name="fa-globe" class="text-blue-400 group-hover:scale-110 transition-transform duration-300" size={24} />
                    </div>
                    <h3 class="text-2xl font-bold text-gray-100">Sites Web IA</h3>
                </div>

                <p class="text-gray-300 mb-6 leading-relaxed">
                    Sites WordPress/Shopify enrichis d'IA : génération de contenu automatique,
                    chatbots intégrés, optimisation SEO intelligente.
                </p>

                <ul class="space-y-3 text-sm text-gray-400">
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>WordPress + IA intégrée</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Shopify avec automatisations</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Génération de contenu SEO</span>
                    </li>
                    <li class="flex items-center">
                        <Icon name="fa-check" class="text-green-400 mr-3 flex-shrink-0" />
                        <span>Chatbots intelligents</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>


<!-- Benefits Section -->
<section id="benefits" class="py-20 bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-100 mb-6">
                Les Avantages Concrets
            </h2>
            <p class="text-lg text-gray-300 max-w-2xl mx-auto">
                Ce que vous gagnez avec l'automatisation intelligente
            </p>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Benefit 1 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 shadow-xl border border-gray-700 hover:border-gray-600 transition-all duration-300">
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20">
                        <Icon name="fa-clock" class="text-blue-400" />
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-100">Économie de Temps</h3>
                        <p class="text-gray-300">
                            Automatisation des tâches répétitives permettant à vos équipes
                            de se concentrer sur les activités à forte valeur ajoutée.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Benefit 2 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 shadow-xl border border-gray-700 hover:border-gray-600 transition-all duration-300">
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20">
                        <Icon name="fa-euro-sign" class="text-blue-400" />
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-100">Réduction des Coûts Opérationnels</h3>
                        <p class="text-gray-300">
                            Diminution des erreurs humaines, optimisation des ressources
                            et amélioration de l'efficacité globale de vos processus.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Benefit 3 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 shadow-xl border border-gray-700 hover:border-gray-600 transition-all duration-300">
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20">
                        <Icon name="fa-chart-bar" class="text-blue-400" />
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-100">Amélioration de la Productivité</h3>
                        <p class="text-gray-300">
                            Augmentation mesurable de la productivité grâce à des outils IA
                            adaptés à votre secteur d'activité et vos besoins spécifiques.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Benefit 4 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 shadow-xl border border-gray-700 hover:border-gray-600 transition-all duration-300">
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-12 h-12 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20">
                        <Icon name="fa-shield-alt" class="text-blue-400" />
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-100">Avantage Concurrentiel</h3>
                        <p class="text-gray-300">
                            Prenez une longueur d'avance sur vos concurrents en intégrant
                            des solutions IA innovantes et performantes.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Articles Section avec Carrousel -->
<section class="py-20 bg-gray-950">
    <div class="max-w-7xl mx-auto px-4 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-100 mb-6">
                Nos Derniers Articles
            </h2>
            <p class="text-lg text-gray-300 max-w-2xl mx-auto">
                Découvrez nos guides pratiques et retours d'expérience sur l'IA en entreprise
            </p>
        </div>

        <ArticlesCarousel articles={sortedArticles} />

        <!-- Lien discret vers tous les articles -->
        <div class="text-center mt-8">
            <a
                href="/blog/"
                class="text-gray-400 hover:text-blue-400 text-sm font-medium transition-colors duration-300 inline-flex items-center group"
            >
                Voir tous les articles
                <svg class="w-4 h-4 ml-1 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-950 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
            <!-- Company Info -->
            <div class="md:col-span-2">
                <h3 class="text-2xl font-bold mb-4">
                    <Icon name="fa-code" class="mr-2 text-blue-400" />Guiziweb
                </h3>
                <p class="text-gray-300 mb-6 max-w-md">
                    Guiziweb : solutions IA sur mesure pour entreprises.
                    Automatisations, sites intelligents, intégrations ERP personnalisées.
                </p>
                <div class="flex space-x-4">
                    <a href="https://www.linkedin.com/company/guiziweb/" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                        <Icon name="fab fa-linkedin" class="text-xl" />
                    </a>
                    <a href="https://www.instagram.com/guiziweb/" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                        <Icon name="fab fa-instagram" class="text-xl" />
                    </a>
                </div>
            </div>

            <!-- Quick Links -->
            <div>
                <h4 class="text-lg font-semibold mb-4">Liens Rapides</h4>
                <ul class="space-y-2">
                    <li><a href="#services" class="text-gray-300 hover:text-white transition-colors">Nos Services</a></li>
                    <li><a href="#benefits" class="text-gray-300 hover:text-white transition-colors">Avantages</a></li>
                </ul>
            </div>

            <!-- Legal -->
            <div>
                <h4 class="text-lg font-semibold mb-4">Légal</h4>
                <ul class="space-y-2">
                    <li><a href="/mentions-legales" class="text-gray-300 hover:text-white transition-colors">Mentions légales</a></li>
                    <li><a href="/politique-confidentialite" class="text-gray-300 hover:text-white transition-colors">Politique de confidentialité</a></li>
                    <li><a href="/cgv" class="text-gray-300 hover:text-white transition-colors">CGV</a></li>
                    <li><a href="/rgpd" class="text-gray-300 hover:text-white transition-colors">RGPD</a></li>
                </ul>
            </div>
        </div>

        <hr class="border-gray-700 my-8">

        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="text-gray-300 text-sm">
                © 2024 Guiziweb. Tous droits réservés.
            </div>
        </div>
    </div>
</footer>

</BaseLayout>